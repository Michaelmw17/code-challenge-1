"use strict";
exports.id = 696;
exports.ids = [696];
exports.modules = {

/***/ 92788:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "xl": () => (/* binding */ getPost),
/* harmony export */   "aA": () => (/* binding */ listPosts),
/* harmony export */   "zu": () => (/* binding */ postsByUsername)
/* harmony export */ });
/* eslint-disable */ // this is an auto generated file. This will be overwritten
const getPost = /* GraphQL */ `
  query GetPost($id: ID!) {
    getPost(id: $id) {
      id
      title
      category
      countries
      select
      date
      createdAt
      content
      username
      updatedAt
    }
  }
`;
const listPosts = /* GraphQL */ `
  query ListPosts(
    $filter: ModelPostFilterInput
    $limit: Int
    $nextToken: String
  ) {
    listPosts(filter: $filter, limit: $limit, nextToken: $nextToken) {
      items {
        id
        title
        category
        countries
        select
        date
        createdAt
        content
        username
        updatedAt
      }
      nextToken
    }
  }
`;
const postsByUsername = /* GraphQL */ `
  query PostsByUsername(
    $username: String
    $sortDirection: ModelSortDirection
    $filter: ModelPostFilterInput
    $limit: Int
    $nextToken: String
  ) {
    postsByUsername(
      username: $username
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        title
        category
        countries
        select
        date
        createdAt
        content
        username
        updatedAt
      }
      nextToken
    }
  }
`;


/***/ }),

/***/ 85250:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ _app)
});

// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
// EXTERNAL MODULE: ./node_modules/aws-amplify/lib/index.js
var lib = __webpack_require__(31650);
var lib_default = /*#__PURE__*/__webpack_require__.n(lib);
;// CONCATENATED MODULE: ./aws-exports.js
/* eslint-disable */ // WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.
const awsmobile = {
    "aws_project_region": "ap-southeast-2",
    "aws_appsync_graphqlEndpoint": "https://7pfewgavrrbwdjquvdxpeep5i4.appsync-api.ap-southeast-2.amazonaws.com/graphql",
    "aws_appsync_region": "ap-southeast-2",
    "aws_appsync_authenticationType": "API_KEY",
    "aws_appsync_apiKey": "da2-vrpx3v2tvbgabgzcevnio5eita",
    "aws_cognito_identity_pool_id": "ap-southeast-2:1445ee21-4d58-4301-bae4-d054458272a7",
    "aws_cognito_region": "ap-southeast-2",
    "aws_user_pools_id": "ap-southeast-2_DxFT6XHBN",
    "aws_user_pools_web_client_id": "1hpjgnrq1pt4d0dpbop9sf3s70",
    "oauth": {
    },
    "aws_cognito_login_mechanisms": [
        "PREFERRED_USERNAME"
    ],
    "aws_cognito_signup_attributes": [
        "EMAIL"
    ],
    "aws_cognito_mfa_configuration": "OFF",
    "aws_cognito_mfa_types": [
        "SMS"
    ],
    "aws_cognito_password_protection_settings": {
        "passwordPolicyMinLength": 8,
        "passwordPolicyCharacters": []
    },
    "aws_cognito_verification_mechanisms": [
        "EMAIL"
    ]
};
/* harmony default export */ const aws_exports = (awsmobile);

;// CONCATENATED MODULE: ./configAmplify.js


lib_default().configure(aws_exports);

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.js
var clsx = __webpack_require__(57966);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Drawer/Drawer.js
var Drawer = __webpack_require__(39636);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CssBaseline/CssBaseline.js
var CssBaseline = __webpack_require__(75834);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/AppBar/AppBar.js
var AppBar = __webpack_require__(45258);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js
var Toolbar = __webpack_require__(28358);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js
var Typography = __webpack_require__(22318);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js
var IconButton = __webpack_require__(17812);
// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Menu.js
var Menu = __webpack_require__(48884);
// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/ListItemText/ListItemText.js
var ListItemText = __webpack_require__(95757);
// EXTERNAL MODULE: ./node_modules/next/link.js
var next_link = __webpack_require__(41664);
// EXTERNAL MODULE: ./node_modules/next/app.js
var app = __webpack_require__(7544);
// EXTERNAL MODULE: ./graphql/queries.js
var queries = __webpack_require__(92788);
;// CONCATENATED MODULE: ./components/SideBar/index.js


























function SideBar() {
    const { 0: open , 1: setOpen  } = (0,react.useState)(false);
    const { 0: signedInUser , 1: setSignedInUser  } = (0,react.useState)(false);
    (0,react.useEffect)(()=>{
        authListener();
    });
    async function authListener() {
        lib.Hub.listen('auth', (data)=>{
            switch(data.payload.event){
                case 'signIn':
                    return setSignedInUser(true);
                case 'signOut':
                    return setSignedInUser(false);
            }
        });
        try {
            await lib.Auth.currentAuthenticatedUser();
            setSignedInUser(true);
        } catch (err) {
        }
    }
    const handleDrawerOpen = ()=>{
        setOpen(true);
    };
    const handleDrawerClose = ()=>{
        setOpen(false);
    };
    const { 0: posts , 1: setPosts  } = (0,react.useState)([]);
    const { 0: noOfElement , 1: setnoOfElement  } = (0,react.useState)(10);
    const slice = posts.slice(0, noOfElement);
    const loadMore = ()=>{
        setnoOfElement(noOfElement + 5);
    };
    (0,react.useEffect)(()=>{
        fetchPosts();
    }, []);
    async function fetchPosts() {
        const postData = await lib.API.graphql({
            query: queries/* listPosts */.aA
        });
        const { items  } = postData.data.listPosts;
        //  Leaving out Fetch images from S3 for posts that contain a cover image unneeded
        const postsWithImages = await Promise.all(items.map(async (post)=>{
            if (post.coverImage) {
                post.coverImage = await lib.Storage.get(post.coverImage);
            }
            return post;
        }));
        setPosts(postsWithImages);
    }
    return(/*#__PURE__*/ (0,jsx_runtime.jsxs)("div", {
        children: [
            /*#__PURE__*/ jsx_runtime.jsx(CssBaseline/* default */.ZP, {
            }),
            /*#__PURE__*/ jsx_runtime.jsx(AppBar/* default */.Z, {
                position: "fixed",
                children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(Toolbar/* default */.Z, {
                    children: [
                        /*#__PURE__*/ jsx_runtime.jsx(IconButton/* default */.Z, {
                            color: "inherit",
                            onClick: handleDrawerOpen,
                            edge: "start",
                            children: /*#__PURE__*/ jsx_runtime.jsx(Menu/* default */.Z, {
                            })
                        }),
                        /*#__PURE__*/ jsx_runtime.jsx(Typography/* default */.Z, {
                            noWrap: true,
                            component: 'span',
                            variant: 'h6',
                            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)("nav", {
                                className: "p-16 border-b border-gray-300",
                                children: [
                                    /*#__PURE__*/ jsx_runtime.jsx(next_link["default"], {
                                        href: "/",
                                        passHref: true,
                                        children: /*#__PURE__*/ jsx_runtime.jsx("span", {
                                            className: "mr-6 cursor-pointer",
                                            children: "Latest Article Page"
                                        })
                                    }),
                                    /*#__PURE__*/ jsx_runtime.jsx(next_link["default"], {
                                        href: "/create-post",
                                        passHref: true,
                                        children: /*#__PURE__*/ jsx_runtime.jsx("span", {
                                            className: "mr-6 cursor-pointer",
                                            children: "Management Page"
                                        })
                                    }),
                                    signedInUser && /*#__PURE__*/ jsx_runtime.jsx(next_link["default"], {
                                        href: "/my-posts",
                                        passHref: true,
                                        children: /*#__PURE__*/ jsx_runtime.jsx("span", {
                                            className: "mr-6 cursor-pointer",
                                            children: "My Article Page"
                                        })
                                    }),
                                    /*#__PURE__*/ jsx_runtime.jsx(next_link["default"], {
                                        href: "/profile",
                                        passHref: true,
                                        children: /*#__PURE__*/ jsx_runtime.jsx("span", {
                                            className: "mr-6 cursor-pointer",
                                            children: "Profile"
                                        })
                                    })
                                ]
                            })
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0,jsx_runtime.jsxs)(Drawer/* default */.ZP, {
                variant: "persistent",
                anchor: "left",
                open: open,
                children: [
                    /*#__PURE__*/ jsx_runtime.jsx("div", {
                        className: "fixed top-0 w-full",
                        children: /*#__PURE__*/ jsx_runtime.jsx("button", {
                            onClick: handleDrawerClose,
                            className: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",
                            children: /*#__PURE__*/ jsx_runtime.jsx(ListItemText/* default */.Z, {
                                primary: "close"
                            })
                        }, "close")
                    }),
                    /*#__PURE__*/ jsx_runtime.jsx("h1", {
                        className: "text-1xl font-semibold mt-16 mb-16 text-center",
                        children: "Article Archives"
                    }),
                    slice.sort(({ createdAt: b  }, { createdAt: a  })=>a > b ? 1 : -1
                    ).map((post, index)=>/*#__PURE__*/ jsx_runtime.jsx("div", {
                            children: /*#__PURE__*/ jsx_runtime.jsx(next_link["default"], {
                                href: `/posts/${post.id}`,
                                passHref: true,
                                children: /*#__PURE__*/ (0,jsx_runtime.jsxs)("div", {
                                    className: "flex items-center",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime.jsx("div", {
                                            className: "flex-shrink-0"
                                        }),
                                        /*#__PURE__*/ jsx_runtime.jsx("div", {
                                            className: "ml-4",
                                            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)("div", {
                                                className: "text-sm leading-5 font-medium text-gray-900 text-center border border-gray-300 pt-6 mt-2 mb-2 pb-2 text-center",
                                                children: [
                                                    /*#__PURE__*/ (0,jsx_runtime.jsxs)("div", {
                                                        className: "text-sm font-semibold text-center pt-6",
                                                        children: [
                                                            "Title: ",
                                                            post.title
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0,jsx_runtime.jsxs)("div", {
                                                        className: "text-sm font-semibold text-center pt-6",
                                                        children: [
                                                            "Author: ",
                                                            post.username
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ jsx_runtime.jsx(next_link["default"], {
                                                        href: `/posts/${post.id}`,
                                                        children: /*#__PURE__*/ jsx_runtime.jsx("a", {
                                                            className: "text-sm mr-4 text-blue-500 text-center",
                                                            children: "View Post"
                                                        })
                                                    }),
                                                    /*#__PURE__*/ jsx_runtime.jsx("br", {
                                                    }),
                                                    /*#__PURE__*/ jsx_runtime.jsx("div", {
                                                        className: "text-sm text-gray-500 invisible mt-2 mb-0",
                                                        children: post.date
                                                    })
                                                ]
                                            })
                                        })
                                    ]
                                })
                            })
                        }, index)
                    ),
                    /*#__PURE__*/ jsx_runtime.jsx("div", {
                        className: "mt-4",
                        children: /*#__PURE__*/ jsx_runtime.jsx("button", {
                            onClick: loadMore,
                            className: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",
                            children: "Load More"
                        })
                    })
                ]
            })
        ]
    }));
};

;// CONCATENATED MODULE: ./pages/_app.tsx




function MyApp({ Component , pageProps  }) {
    return(/*#__PURE__*/ (0,jsx_runtime.jsxs)("div", {
        children: [
            /*#__PURE__*/ jsx_runtime.jsx(SideBar, {
            }),
            /*#__PURE__*/ jsx_runtime.jsx("div", {
                className: "py-8 px-16",
                children: /*#__PURE__*/ jsx_runtime.jsx(Component, {
                    ...pageProps
                })
            })
        ]
    }));
}
/* harmony default export */ const _app = (MyApp);


/***/ }),

/***/ 97020:
/***/ ((module) => {

module.exports = JSON.parse('{"polyfillFiles":["static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"],"devFiles":[],"ampDevFiles":[],"lowPriorityFiles":["static/oCtdpKNeCvwxvRZdBMbKM/_buildManifest.js","static/oCtdpKNeCvwxvRZdBMbKM/_ssgManifest.js","static/oCtdpKNeCvwxvRZdBMbKM/_middlewareManifest.js"],"pages":{"/":["static/chunks/webpack-70f5cbc9e1a303de.js","static/chunks/framework-0f8b31729833af61.js","static/chunks/main-a5f2beb8b3d215d7.js","static/chunks/pages/index-cf82546a27a87bd6.js"],"/_app":["static/chunks/webpack-70f5cbc9e1a303de.js","static/chunks/framework-0f8b31729833af61.js","static/chunks/main-a5f2beb8b3d215d7.js","static/css/92c81ec147b62f30.css","static/chunks/pages/_app-4e542eb34f118c5c.js"],"/_error":["static/chunks/webpack-70f5cbc9e1a303de.js","static/chunks/framework-0f8b31729833af61.js","static/chunks/main-a5f2beb8b3d215d7.js","static/chunks/pages/_error-2280fa386d040b66.js"],"/create-post":["static/chunks/webpack-70f5cbc9e1a303de.js","static/chunks/framework-0f8b31729833af61.js","static/chunks/main-a5f2beb8b3d215d7.js","static/chunks/f65a48b9-384138d295d50c1a.js","static/chunks/786-02fd2f7c9743c5ff.js","static/chunks/194-a5276201bb9f45e2.js","static/chunks/297-08da7f3eba21c60b.js","static/css/7aa06820cfed53d6.css","static/chunks/pages/create-post-e38cd6270c815493.js"],"/edit-post/[id]":["static/chunks/webpack-70f5cbc9e1a303de.js","static/chunks/framework-0f8b31729833af61.js","static/chunks/main-a5f2beb8b3d215d7.js","static/chunks/f65a48b9-384138d295d50c1a.js","static/chunks/786-02fd2f7c9743c5ff.js","static/chunks/194-a5276201bb9f45e2.js","static/css/331d72755b642b99.css","static/chunks/pages/edit-post/[id]-cc1c6b5d1b917970.js"],"/my-posts":["static/chunks/webpack-70f5cbc9e1a303de.js","static/chunks/framework-0f8b31729833af61.js","static/chunks/main-a5f2beb8b3d215d7.js","static/chunks/786-02fd2f7c9743c5ff.js","static/chunks/569-aeeadadbca70a345.js","static/chunks/pages/my-posts-60826dabb0f0f357.js"],"/posts/[id]":["static/chunks/webpack-70f5cbc9e1a303de.js","static/chunks/framework-0f8b31729833af61.js","static/chunks/main-a5f2beb8b3d215d7.js","static/chunks/281-3cbcb921270513bb.js","static/chunks/pages/posts/[id]-9edfd2222223a3e3.js"],"/profile":["static/chunks/webpack-70f5cbc9e1a303de.js","static/chunks/framework-0f8b31729833af61.js","static/chunks/main-a5f2beb8b3d215d7.js","static/chunks/297-08da7f3eba21c60b.js","static/chunks/pages/profile-f3ec5479f3b3895a.js"]},"ampFirstPages":[]}');

/***/ }),

/***/ 73978:
/***/ ((module) => {

module.exports = JSON.parse('{"../node_modules/@aws-amplify/ui-components/dist/esm-es5/index-83f2275b.js -> ./shadow-css-360bb6da.js":{"id":5315,"files":["static/chunks/315.b45b1b9cadd8a802.js"]},"../node_modules/@aws-amplify/ui-components/dist/esm-es5/theme-19a9209a.js -> ./css-shim-3b0ed064.js":{"id":1041,"files":["static/chunks/polyfills-css-shim.63535a894922e478.js"]},"../node_modules/@aws-amplify/ui-components/dist/esm-es5/theme-19a9209a.js -> ./dom-3fa9e65e.js":{"id":421,"files":["static/chunks/polyfills-dom.6def06bb42ecaf98.js"]},"../node_modules/@aws-amplify/ui-components/dist/esm/polyfills/index.js -> ./core-js.js":{"id":261,"files":["static/chunks/polyfills-core-js.32bb2f9ed678cfd4.js"]},"../node_modules/@aws-amplify/ui-components/dist/esm/polyfills/index.js -> ./dom.js":{"id":5378,"files":["static/chunks/polyfills-dom.6def06bb42ecaf98.js"]}}');

/***/ }),

/***/ 59450:
/***/ ((module) => {

module.exports = {"Dg":[]};

/***/ })

};
;